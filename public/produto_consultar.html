<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultar Produtos - SA4</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // Função para exibir lista de produtos
        function exibirProdutos() {
            const produtos = [
                { id: 1, nome: "Produto Exemplo", preco: 100, fornecedor: 1 }
                // Adicione outros produtos aqui
            ];

            const listaProdutos = document.getElementById('lista_produtos');
            listaProdutos.innerHTML = ''; // Limpa a lista

            produtos.forEach(produto => {
                const produtoItem = document.createElement('div');
                produtoItem.className = 'produto-item';
                produtoItem.innerHTML = `
                    <p>ID: ${produto.id}</p>
                    <p>Nome: ${produto.nome}</p>
                    <p>Preço: ${produto.preco}</p>
                    <p>Fornecedor: ${produto.fornecedor}</p>
                    <button onclick="visualizarProduto(${produto.id})">Visualizar</button>
                    <button onclick="editarProduto(${produto.id})">Editar</button>
                `;
                listaProdutos.appendChild(produtoItem);
            });
        }

        // Função para redirecionar para a página de visualização
        function visualizarProduto(id) {
            window.location.href = `produto_visualizar.html?id=${id}`;
        }

        // Função para redirecionar para a página de edição
        function editarProduto(id) {
            window.location.href = `produto_editar.html?id=${id}`;
        }

        // Carregar produtos ao carregar a página
        window.onload = exibirProdutos;
    </script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <span class="page-title">Consultar Produtos</span>
        <div class="user-info">
            <span>Bem-vindo, <span id="username"></span></span>
            <button onclick="logout()">Sair</button>
        </div>
    </nav>

    <div class="consultar-container">
        <h2>Consultar Produtos</h2>
        <div id="lista_produtos" class="lista-produtos">
            <!-- Lista de produtos será exibida aqui -->
        </div>
        <div class="menu">
            <button onclick="window.location.href='dashboard.html'">Voltar ao Dashboard</button>
        </div>
    </div>

    <script>
        // Verifica se o usuário está logado
        const user = JSON.parse(localStorage.getItem('user'));
        if (!user) {
            window.location.href = 'index.html';
        } else {
            // Exibe o nome do usuário na navbar
            document.getElementById('username').textContent = user.nome_usuario;
        }

        // Função de logout
        function logout() {
            localStorage.removeItem('user');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>